!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("backbone"),require("underscore")):"function"==typeof define&&define.amd?define(["backbone","underscore"],t):n.OnceUpon=t(n.Backbone,n._)}(this,function(n,t){"use strict";function e(n,t){return n&&t?n.options&&void 0!==n.options[t]?n.options[t]:n[t]:void 0}function i(n,e,i,o){var s=o.split(/\s+/);t.each(s,function(t){var o=n[t];if(!o)throw new Error('Method "'+t+'" was configured as an event handler, but does not exist.');n.listenToOnce(e,i,o)})}function o(n,t,e,i){n.listenToOnce(t,e,i)}function s(n,e,i,o){var s=o.split(/\s+/);t.each(s,function(t){var o=n[t];n.stopListening(e,i,o)})}function c(n,t,e,i){n.stopListening(t,e,i)}function r(n,e,i,o,s){if(e&&i){if(!t.isObject(i))throw new Error("Bindings must be an object or function.");i=Marionette._getValue(i,n),t.each(i,function(i,c){t.isFunction(i)?o(n,e,c,i):s(n,e,c,i)})}}Once.bindEntityEvents=function(n,t,e){r(n,t,e,o,i)},Once.unbindEntityEvents=function(n,t,e){r(n,t,e,c,s)},n.OnceUpon={extend:function(n){return n.extend({delegateEvents:function(){n.prototype.originalDelegateEvents.apply(this,arguments),bindEntityEvents(this,this,e(this,"onceUponEvents"))},undelegateEvents:function(){n.prototype.unbindEntityEvents(this,this,e(this,"onceUponEvents")),n.prototype.originalUndelegateEvents.apply(this,arguments)}})}};var u=n.OnceUpon;return u});
//# sourceMappingURL=backbone.onceUpon.min.js.map
